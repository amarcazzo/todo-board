(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,n){e.exports=n(46)},36:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),o=n.n(i),c=(n(36),n(7)),u=n(8),s=n(10),d=n(9),l=n(11),p=n(1),h=n(2),f=n(12),b=n(5),m=n.n(b),g=n(4),v=n(15),O=n(6),y=n.n(O),j={apiKey:"AIzaSyB2yCyUNY6rbVV_8iVJI_hJnaBhvivrvAY",authDomain:"todo-board-cad1d.firebaseapp.com",databaseURL:"https://todo-board-cad1d.firebaseio.com",projectId:"todo-board-cad1d",storageBucket:"todo-board-cad1d.appspot.com",messagingSenderId:"598932242116"};y.a.initializeApp(j);function x(){var e=Object(p.a)(["\n  border-radius: 50%;\n  max-width: 40px;\n  border: 1px solid;\n  boder-color: #dbe4ee;\n  margin: 5px;\n\n  &:hover {\n    box-shadow: 0 2px 6px 0 hsla(0, 0%, 0%, 0.2);\n  }\n"]);return x=function(){return e},e}function k(){var e=Object(p.a)(["\n  margin: 5px;\n  height: 30px;\n  width: 80px;\n  font-weight: 500;\n  font-size: 14px;\n  border: none;\n  background-color: transparent;\n  transition: transform 0.2s;\n  outline: none;\n\n  &:hover {\n    background-color: #f7f8f9;\n    border-radius: 4px;\n  }\n"]);return k=function(){return e},e}function w(){var e=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  margin: 15px;\n"]);return w=function(){return e},e}var T=h.a.div(w()),I=h.a.button(k()),E=h.a.img(x()),S=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.authInit()}},{key:"render",value:function(){var e=this.props.isLoggedIn?this.props.logOut:this.props.logIn,t=this.props.isLoggedIn?"Log Out":"Log In",n=this.props.picture||"./images/profile_placeholder.png";return r.a.createElement(T,null,r.a.createElement(E,{src:n}),r.a.createElement(I,{onClick:e},t))}}]),t}(a.Component),_=Object(f.b)(function(e){return{username:e.user.name,picture:e.user.picture,isLoggedIn:e.user.isLoggedIn}},{logIn:function(){return function(){var e=Object(v.a)(m.a.mark(function e(t){var n,a,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new y.a.auth.GoogleAuthProvider,e.next=3,y.a.auth().signInWithPopup(n);case 3:return e.next=5,y.a.auth().currentUser;case 5:a=e.sent,r={name:a.displayName,email:a.email,picture:a.photoURL,id:a.uid,isLoggedIn:!0},t({type:"LOG_IN",payload:Object(g.a)({},r)});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(v.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.auth().signOut();case 2:t({type:"LOG_OUT",payload:{id:"",name:"",email:"",picture:"",isLoggedIn:!1}});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},authInit:function(){return function(){var e=Object(v.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.auth().onAuthStateChanged(function(e){var n={name:e.displayName,email:e.email,picture:e.photoURL,id:e.uid,isLoggedIn:!0};t({type:"AUTH_INIT",payload:Object(g.a)({},n)})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(S);function C(){var e=Object(p.a)(['\n  font-family: Impact, Haettenschweiler, "Arial Narrow Bold", sans-serif;\n  padding: 20px;\n']);return C=function(){return e},e}function L(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return L=function(){return e},e}var A=h.a.div(L()),U=h.a.h1(C()),N=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={title:"To-do Board"},n}return Object(l.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state;return r.a.createElement(A,null,r.a.createElement(U,null,e.title),r.a.createElement(_,{user:e.user,logIn:this.handleLogIn,logOut:this.handleLogOut,isUserSignedIn:this.isUserSignedIn}))}}]),t}(a.Component),D=n(3);y.a.initializeApp(j);function R(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 10px;\n  margin: 5px;\n  border-radius: 4px;\n\n  &:hover {\n    background-color: #ecf5fc;\n    button {\n      display: inline;\n    }\n  }\n"]);return R=function(){return e},e}function B(){var e=Object(p.a)(["\n  border: none;\n  border-radius: 2px;\n  transition-duration: 0.4s;\n  margin: 0;\n  padding: 0;\n  display: none;\n  height: 18px;\n  width: 18px;\n  background-color: transparent;\n\n  &:hover {\n    background-color: ",";\n    color: white;\n  }\n"]);return B=function(){return e},e}var G=h.a.button(B(),function(e){return"changeState"===e.name?"#4caf50":"#c42952"}),K=h.a.li(R()),z=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(D.a)(Object(D.a)(n))),n}return Object(l.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(e){this.props.handleChangeState(this.props.id)}},{key:"render",value:function(){var e=this.props,t=r.a.createElement("div",null,r.a.createElement(G,{name:"changeState",onClick:this.handleClick},"\u2713"));return r.a.createElement(K,{id:e.id},r.a.createElement("label",null,e.title),2!==e.boardType?t:"")}}]),t}(r.a.Component);var H=function(e){return r.a.createElement("div",null,e.items.map(function(t){return r.a.createElement(z,{key:t.id,id:t.id,title:t.title,boardType:e.boardType,handleChangeState:e.handleChangeState,handleRemove:e.handleRemove})}))};function V(){var e=Object(p.a)(["\n  border-radius: inherit;\n  background-color: #f3f4f6;\n  width: 90%;\n  border: none;\n  padding: 10px;\n  margin: 10px 0 10px 0;\n  outline: none;\n"]);return V=function(){return e},e}function J(){var e=Object(p.a)(["\n  margin: 0;\n  padding: 0;\n  width: 90%;\n"]);return J=function(){return e},e}function X(){var e=Object(p.a)(["\n  width: 95%;\n  padding: 10px;\n"]);return X=function(){return e},e}function M(){var e=Object(p.a)(["\n  border-radius: 4px;\n  background-color: #f3f4f6;\n  margin: 10px -10px 10px -10px;\n  width: 100%;\n  border: none;\n  padding: 10px;\n  outline: none;\n"]);return M=function(){return e},e}function P(){var e=Object(p.a)(["\n  margin: 0px;\n  padding: 0px;\n  width: 95%;\n  list-style-type: circle;\n"]);return P=function(){return e},e}function W(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 30%;\n  border-radius: 4px;\n  box-shadow: 0 2px 6px 0 hsla(0, 0%, 0%, 0.2);\n  padding: 10px;\n"]);return W=function(){return e},e}var Y=h.a.div(W()),$=h.a.ul(P()),q=h.a.input(M()),F=h.a.div(X()),Q=h.a.form(J()),Z=h.a.input(V()),ee=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={boardTitle:e.boardTitle,boardType:Number(e.boardType),newTask:{title:"",state:0},search:""},n.handleInput=n.handleInput.bind(Object(D.a)(Object(D.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(D.a)(Object(D.a)(n))),n.handleRemove=n.handleRemove.bind(Object(D.a)(Object(D.a)(n))),n.handleChangeState=n.handleChangeState.bind(Object(D.a)(Object(D.a)(n))),n.handleSearch=n.handleSearch.bind(Object(D.a)(Object(D.a)(n))),n}return Object(l.a)(t,e),Object(u.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.newTask;this.setState({newTask:{title:"",state:0}}),this.props.addTask(t)}},{key:"handleInput",value:function(e){this.setState({newTask:{title:e.target.value,state:0}})}},{key:"handleRemove",value:function(e){this.props.deleteTask(e)}},{key:"handleChangeState",value:function(e){var t=this.props.tasks.find(function(t){return t.id===e});t.state<2&&(t.state+=1),this.props.changeState(t)}},{key:"handleSearch",value:function(e){this.setState({search:e.target.value.toLowerCase()})}},{key:"componentDidMount",value:function(){this.props.getTasks(this.props.userId)}},{key:"render",value:function(){var e=this,t=this.props.tasks.filter(function(t){return t.state===e.state.boardType&&t.title.toLowerCase().includes(e.state.search)}),n=r.a.createElement(Q,{onSubmit:this.handleSubmit},r.a.createElement(q,{type:"text",onChange:this.handleInput,placeholder:"New task",value:this.state.newTask.title})),a=r.a.createElement("small",null,"No tasks found.");return r.a.createElement(Y,null,r.a.createElement(F,null,this.state.boardTitle),r.a.createElement(Z,{type:"text",placeholder:"Search",onChange:this.handleSearch}),r.a.createElement($,null,0===t.length?a:r.a.createElement(H,{items:t,handleChangeState:this.handleChangeState,boardType:this.state.boardType})),0===this.state.boardType?n:"")}}]),t}(a.Component),te=Object(f.b)(function(e){return{tasks:e.tasks.items,lastUpdatedItemId:e.tasks.lastUpdatedItemId,userId:e.user.id}},{getTasks:function(e){return function(t){var n=[];y.a.firestore().collection("tasks").where("userId","==",e).orderBy("timestamp","asc").onSnapshot(function(e){e.docChanges().forEach(function(e){if("removed"!==e.type&&"modified"!==e.type){var t=Object(g.a)({},e.doc.data(),{id:e.doc.id});n.push(t)}}),t({type:"GET_TASKS",payload:n})})}},addTask:function(e){return function(){var t=Object(v.a)(m.a.mark(function t(n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.firestore().collection("tasks").add({userId:y.a.auth().currentUser.uid,title:e.title,body:"",timestamp:new Date,state:e.state}).then(function(e){n({type:"ADD_TASK",payload:e.id})});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},changeState:function(e){return function(){var t=Object(v.a)(m.a.mark(function t(n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.firestore().collection("tasks").doc(e.id).update({state:e.state}).then(function(){n({type:"CHANGE_STATE",payload:e.id})});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},deleteTask:function(e){return function(){var t=Object(v.a)(m.a.mark(function t(n){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.firestore().collection("tasks").doc(e).delete().then(function(){n({type:"DELETE_TASK",payload:e})});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(ee);function ne(){var e=Object(p.a)(["\n  font-size: 24px;\n  font-weight: 500;\n  width: 30%;\n  border: 1px solid;\n  border-radius: 4px;\n  box-shadow: 0 2px 6px 0 hsla(0, 0%, 0%, 0.2);\n  padding: 15px;\n"]);return ne=function(){return e},e}function ae(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin: 10px;\n  padding: 5px;\n"]);return ae=function(){return e},e}var re=h.a.div(ae()),ie=h.a.div(ne());function oe(e){var t=r.a.createElement(re,null,r.a.createElement(te,{boardType:"0",boardTitle:"Backlog"}),r.a.createElement(te,{boardType:"1",boardTitle:"In Progress"}),r.a.createElement(te,{boardType:"2",boardTitle:"Done"})),n=r.a.createElement(re,null,r.a.createElement(ie,null,"Necesita estar logueado para poder utilizar esta herramienta."));return e.isLoggedIn?t:n}oe.propTypes={};var ce=Object(f.b)(function(e){return{isLoggedIn:e.user.isLoggedIn}},{})(oe),ue=n(13),se=n(29),de={items:[],lastUpdatedItemId:""},le={name:"",id:"",email:"",picture:"../images/profile_placeholder.png",isLoggedIn:!1},pe=Object(ue.c)({tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TASKS":return{items:t.payload,lastUpdatedItemId:""};case"ADD_TASK":case"CHANGE_STATE":case"DELETE_TASK":return Object(g.a)({},e,{lastUpdatedItemId:t.payload});case"SEARCH_TASK":return Object(g.a)({},e,{items:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":case"LOG_OUT":case"AUTH_INIT":return Object(g.a)({},e,t.payload);default:return e}}}),he=[se.a],fe=Object(ue.e)(pe,{},Object(ue.d)(ue.a.apply(void 0,he),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0}))),be=(n(45),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{store:fe},r.a.createElement(N,null),r.a.createElement(ce,null))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.99418c26.chunk.js.map